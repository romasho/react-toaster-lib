{"version":3,"file":"index.es.js","sources":["../src/toastStore/index.ts","../src/components/Icon/CloseIcon/components.ts","../src/components/Icon/CloseIcon/index.tsx","../src/components/Icon/WarningIcon/index.tsx","../src/components/Icon/InfoIcon/index.tsx","../src/components/Icon/SearchIcon/index.tsx","../src/components/Icon/SuccessIcon/index.tsx","../src/components/Icon/index.tsx","../src/theme.ts","../src/components/Toast/components.ts","../src/components/Toast/index.tsx","../src/components/Portal/index.tsx","../src/hooks/useToast.ts","../src/components/Toaster/components.ts","../src/components/Toaster/index.tsx"],"sourcesContent":["import { IToastProps } from \"@/types\"\n\ntype CallbackType = (toast: Array<IToastProps & Id>) => void\n\nexport type Id = {\n  id: number\n}\n\nclass ToastStore {\n  private static instance: ToastStore\n  public toastList = [] as Array<IToastProps & Id>\n  private toastQueue = [] as Array<IToastProps & Id>\n  private timer: NodeJS.Timer | null\n  private delay: number\n  private subscriptions: {[propName: string]: Set<CallbackType>}\n\n  constructor() {\n    this.toastList = []\n    this.toastQueue = []\n    this.timer = null\n    this.delay = 3000\n    this.subscriptions = {}\n  }\n\n  static getInstance(): ToastStore {\n    if (!this.instance) {\n      this.instance = new this()\n    }\n\n    return this.instance\n  }\n\n  public addToast(el: IToastProps, timer?: number) {\n    if (this.toastList.length >= 3) {\n      this.toastQueue.push({...el, id: Date.now()})\n    } else {\n      this.toastList.push({...el, id: Date.now()})\n      this.publish('TOAST')\n      clearInterval(this.timer as NodeJS.Timer)\n\n    this.timer = setInterval(() => {\n      this.removeToast()\n    }, timer || this.delay)\n    }\n  }\n\n  public removeToast(id = 0) {\n    this.toastList.splice(id, 1)\n    this.toastQueue.length && this.toastList.push(this.toastQueue.shift() as IToastProps & Id)\n    \n    console.log('predel')\n    this.publish(\"TOAST\")\n    console.log('del')\n\n    if (this.toastList.length === 0) {\n      clearInterval(this.timer as NodeJS.Timer)\n    }\n  }\n  \n\n  subscribe(eventType: string, callback: CallbackType) {\n    if(!this.subscriptions[eventType]) {\n      this.subscriptions[eventType] = new Set()\n    }\n\n    const callbacks = this.subscriptions[eventType]\n    callbacks.add(callback)\n\n    return () => { \n      callbacks.delete(callback)\n\n      if (callbacks.size === 0) {\n        delete this.subscriptions[eventType]\n      }\n    }\n}\n\npublish(eventType: string) {\n  if(!this.subscriptions[eventType])  {\n      return console.warn(eventType + \" not found!\");\n    }\n  const callbacks = this.subscriptions[eventType]\n\n  callbacks.forEach((callback) => {\n    // eslint-disable-next-line standard/no-callback-literal\n    callback([...this.toastList])\n  })\n}\n}\n\nexport const toastStore = new ToastStore()\n\n","import styled from 'styled-components'\n\nexport type CloseProps = {}\n\nexport const Close =\n  styled.button <\n  CloseProps >\n  `\n  padding: 0;\n  border: none;\n  font: inherit;\n  color: inherit;\n  background-color: transparent;\n  cursor: pointer;\n  position: absolute;\n  top: 32px;\n  right: 32px;\n  width: 32px;\n  height: 32px;\n`\n","import React from 'react'\n\nimport { IconProps } from '@/types'\n\nimport { Close } from './components'\n\nexport function CloseIcon({ fontSize }: IconProps) {\n  return (\n    <Close>\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width={fontSize}\n        height={fontSize}\n        viewBox=\"0 0 32 32\"\n      >\n        <defs />\n        <g transform=\"translate(0 -0.001)\">\n          <path\n            className=\"a\"\n            d=\"M18.83,16,31.414,3.417a2,2,0,0,0-2.83-2.83L16,13.172,3.416.587a2,2,0,0,0-2.83,2.83L13.171,16,.586,28.585a2,2,0,1,0,2.83,2.829L16,18.83,28.584,31.415a2,2,0,0,0,2.83-2.83Z\"\n          />\n        </g>\n      </svg>\n    </Close>\n  )\n}\n","import React from 'react'\n\nimport { IconProps } from '@/types'\n\nexport function WarningIcon({ fontSize = 32 }: IconProps) {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={fontSize * 2}\n      height={fontSize * 2}\n      viewBox=\"0 0 64 64\"\n    >\n      <g transform=\"translate(0 -20.882)\">\n        <g transform=\"translate(0 20.882)\">\n          <path\n            d=\"M221.823,333.382a3.6,3.6,0,0,0,0,7.2,3.6,3.6,0,0,0,0-7.2Z\"\n            transform=\"translate(-189.82 -288.408)\"\n          />\n          <path\n            d=\"M62.442,78.607a13.288,13.288,0,0,0,.026-12.434l-20.6-39.03a10.891,10.891,0,0,0-19.708-.014L1.529,66.2a13.4,13.4,0,0,0,.039,12.506A11.117,11.117,0,0,0,11.4,84.882H52.549A11.2,11.2,0,0,0,62.442,78.607Zm-4.473-2.821a6.142,6.142,0,0,1-5.433,3.44H11.383a6.054,6.054,0,0,1-5.368-3.368A7.366,7.366,0,0,1,6,68.993L26.631,29.934a5.944,5.944,0,0,1,10.762.014L58.009,69.008A7.268,7.268,0,0,1,57.969,75.786Z\"\n            transform=\"translate(0 -20.882)\"\n          />\n          <path\n            d=\"M220.5,157.278a3.913,3.913,0,0,0-2.778,3.929c.086,1.137.158,2.288.245,3.425.245,4.332.489,8.577.734,12.909a2.636,2.636,0,0,0,2.691,2.533,2.691,2.691,0,0,0,2.691-2.619c0-.892,0-1.713.086-2.619.158-2.778.331-5.555.489-8.333.086-1.8.245-3.6.331-5.4a4.444,4.444,0,0,0-.331-1.8A3.607,3.607,0,0,0,220.5,157.278Z\"\n            transform=\"translate(-189.392 -137.561)\"\n          />\n        </g>\n      </g>\n    </svg>\n  )\n}\n","import React from 'react'\n\nimport { IconProps } from '@/types'\n\nexport function InfoIcon({ fontSize = 32 }: IconProps) {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={fontSize * 2}\n      height={fontSize * 2}\n      viewBox=\"0 0 64 64\"\n    >\n      <defs />\n      <circle\n        className=\"a\"\n        cx=\"3.442\"\n        cy=\"3.442\"\n        r=\"3.442\"\n        transform=\"translate(28.558 43.702)\"\n      />\n      <path\n        className=\"a\"\n        d=\"M32,0A32,32,0,1,0,64,32,31.983,31.983,0,0,0,32,0Zm0,59A27,27,0,1,1,59,32,26.985,26.985,0,0,1,32,59Z\"\n      />\n      <path\n        className=\"a\"\n        d=\"M187.016,128.5A11.028,11.028,0,0,0,176,139.516a2.754,2.754,0,0,0,5.508,0,5.508,5.508,0,1,1,5.508,5.508,2.754,2.754,0,0,0-2.754,2.754v6.885a2.754,2.754,0,0,0,5.508,0v-4.479a11.016,11.016,0,0,0-2.754-21.683Z\"\n        transform=\"translate(-155.016 -113.572)\"\n      />\n    </svg>\n  )\n}\n","import React from 'react'\n\nimport { IconProps } from '@/types'\n\nexport function ErrorIcon({ fontSize = 32 }: IconProps) {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={fontSize * 2}\n      height={fontSize * 2}\n      viewBox=\"0 0 64 64\"\n    >\n      <defs />\n      <g transform=\"translate(0.198 0.198)\">\n        <path\n          className=\"a\"\n          d=\"M63.8,59.986,52.321,48.5a29.7,29.7,0,1,0-3.816,3.816L59.988,63.8ZM5.262,29.533A24.271,24.271,0,1,1,29.533,53.8,24.271,24.271,0,0,1,5.262,29.533Z\"\n          transform=\"translate(0 0)\"\n        />\n        <path\n          className=\"a\"\n          d=\"M67.251,55.566a2.734,2.734,0,0,0-2.445-1.511h-.784a18.942,18.942,0,0,0,.59-2.734h5.661V45.853H64.612a18.941,18.941,0,0,0-.59-2.734h.784a2.734,2.734,0,0,0,2.445-1.511l2.734-5.468L65.094,33.7l-1.978,3.956h-1.8a14.916,14.916,0,0,0-2.49-2.619,8.2,8.2,0,1,0-15.375,0,14.924,14.924,0,0,0-2.489,2.619h-1.8L37.179,33.7l-4.89,2.445,2.734,5.468a2.734,2.734,0,0,0,2.445,1.511h.784a18.942,18.942,0,0,0-.59,2.734H32v5.468h5.661a18.942,18.942,0,0,0,.59,2.734h-.784a2.734,2.734,0,0,0-2.445,1.511l-2.734,5.468,4.89,2.445,1.978-3.956h1.8A12.778,12.778,0,0,0,51.137,64.99a12.778,12.778,0,0,0,10.177-5.468h1.8l1.978,3.956,4.89-2.445ZM48.4,32.184a2.734,2.734,0,0,1,5.468,0,2.768,2.768,0,0,1-.025.325,11.461,11.461,0,0,0-5.417,0A2.766,2.766,0,0,1,48.4,32.184Zm2.734,27.338c-4.522,0-8.2-4.905-8.2-10.935s3.679-10.935,8.2-10.935,8.2,4.905,8.2,10.935S55.659,59.522,51.137,59.522Z\"\n          transform=\"translate(-21.558 -15.912)\"\n        />\n      </g>\n    </svg>\n  )\n}\n","import React from 'react'\n\nimport { IconProps } from '@/types'\n\nexport function SuccessIcon({ fontSize = 32 }: IconProps) {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={fontSize * 2}\n      height={fontSize * 2}\n      viewBox=\"0 0 64 64\"\n    >\n      <path d=\"M32,0A32,32,0,1,0,64,32,32.036,32.036,0,0,0,32,0Zm0,61.538A29.538,29.538,0,1,1,61.538,32,29.573,29.573,0,0,1,32,61.538Z\" />\n      <path\n        d=\"M49.5,15.336,27.547,32.626,14.32,25.219a1.873,1.873,0,0,0-2.007.156.817.817,0,0,0,.223,1.406l14.286,8a1.846,1.846,0,0,0,.893.219,1.748,1.748,0,0,0,1.069-.336l22.857-18a.809.809,0,0,0-.119-1.411A1.882,1.882,0,0,0,49.5,15.336Z\"\n        transform=\"translate(0 5.625)\"\n      />\n    </svg>\n  )\n}\n","import React from 'react'\n\nimport { ToastType } from '@/types'\n\nimport { WarningIcon } from './WarningIcon'\nimport { InfoIcon } from './InfoIcon'\nimport { ErrorIcon } from './SearchIcon'\nimport { SuccessIcon } from './SuccessIcon'\n\ninterface IconProps {\n  fontSize?: number;\n  type: ToastType;\n}\n\nexport function Icon({ fontSize, type }: IconProps) {\n  return (\n    <>\n      {type === 'error' && (\n        <ErrorIcon fontSize={fontSize} />\n      )}\n      {type === 'info' && <InfoIcon fontSize={fontSize} />}\n      {type === 'warning' && (\n        <WarningIcon fontSize={fontSize} />\n      )}\n      {type === 'success' && (\n        <SuccessIcon fontSize={fontSize} />\n      )}\n    </>\n  )\n}\n","import { keyframes } from 'styled-components'\n\nconst font = 'Helvetica Neue, sans-serif'\n\nconst black = '#000000'\nconst white = '#ffffff'\nconst error = '#E25837'\nconst success = '#37E29A'\nconst warning = '#F4E048'\nconst info = '#9A40D3'\n\nconst boxShadow = 'box-shadow: 4px 4px 8px #00000029;'\n\nconst startX = keyframes`\n  from {\n    transform: translateX(-100%);\n    opacity: 0.25;\n  }\n  to {\n    transform: translateX(0);\n    opacity: 1;\n  }\n`\nconst startY = keyframes`\n  from {\n    transform: translateY(100%);\n    opacity: 0.25;\n  }\n  to {\n    transform: translateY(0);\n    opacity: 1;\n  }\n`\n\nconst theme = {\n  boxShadow,\n  font,\n  animations: {\n    startX,\n    startY,\n  },\n  colors: {\n    black,\n    white,\n    error,\n    warning,\n    info,\n    success,\n  },\n}\n\nexport default theme\n","import styled from 'styled-components'\n\nimport theme from '@/theme'\nimport { AnimationType, MessagePropsType, ToastType, ToastWrapType } from '@/types'\n\nexport const ToastWrapper =\n  styled.div <\n  ToastWrapType >\n  `\n  position: relative;\n  overflow: hidden;\n  margin: ${(props) => props.margin}px;\n  width: 660px;\n  height: 180px;\n  bottom: 0;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  border-radius: 24px;\n  padding: ${(props) => props.fontSize}px;\n  background-color: ${(props) => theme.colors[props.type as ToastType]};\n  color: ${(props) =>\n    props.type === 'warning'\n      ? theme.colors.black\n      : theme.colors.white};\n  svg {\n    fill: ${(props) =>\n      props.type === 'warning'\n        ? theme.colors.black\n        : theme.colors.white};;\n  }\n  animation: ${(props) => theme.animations[props.animation as AnimationType]} 1s;\n`\n\nexport const Message =\n  styled.h3 <\n  MessagePropsType >\n  `\n  margin: 0;\n  font-size: ${(props) => props.fontSize}px;\n  font-family: ${theme.font};\n  font-weight: 500;\n  padding: 0px ${(props) => props.fontSize}px;\n`\n\nexport const Description =\n  styled.h4 <\n  MessagePropsType >\n  `\n  margin: 0;\n  font-size: ${(props) => props.fontSize * 0.75}px;\n  font-family: ${theme.font};\n  font-weight: 500;\n  padding: 0px ${(props) => props.fontSize}px;\n  padding-top: ${(props) => props.fontSize}px;\n`\n","import React from 'react'\n\nimport { CloseIcon } from '@/components/Icon/CloseIcon'\nimport { Icon } from '@/components/Icon'\nimport { IToastProps } from '@/types'\nimport { Id, toastStore } from '@/toastStore'\n\nimport {\n  Message,\n  ToastWrapper,\n  Description,\n} from './components'\n\nexport function Toast({\n  type = 'success',\n  fontSize = 32,\n  animation = 'startX',\n  message,\n  description,\n  margin,\n  id,\n}: IToastProps & Id) {\n  const deleteToast = () => {\n    toastStore.removeToast(id)\n  }\n\n  return (\n    <ToastWrapper\n      type={type}\n      margin={margin}\n      fontSize={fontSize}\n      animation={animation}\n    >\n      <Icon type={type} fontSize={fontSize} />\n      <div>\n        <Message fontSize={fontSize}>{message}</Message>\n        {description && (\n          <Description fontSize={fontSize}>\n            {description}\n          </Description>\n        )}\n      </div>\n      <CloseIcon\n        fontSize={fontSize}\n        onClick={deleteToast}\n      />\n    </ToastWrapper>\n  )\n}\n","import { memo, useEffect } from 'react'\nimport ReactDOM from 'react-dom'\n\ninterface IPortalProps {\n  children: JSX.Element | JSX.Element[];\n}\n\nexport const Portal = memo(function Portal({\n  children,\n}: IPortalProps) {\n  const el = document.createElement('div')\n\n  useEffect(() => {\n    document.body.appendChild(el)\n\n    return () => {\n      document.body.removeChild(el)\n    }\n  })\n\n  return ReactDOM.createPortal(children, el)\n})\n","import { useState, useEffect } from 'react'\n\nimport { toastStore } from '@/toastStore'\n\nexport function useToast() {\n  const [toastList, setToastList] = useState(\n    toastStore.toastList,\n  )\n\n  useEffect(() => {\n    const unsubscribe = toastStore.subscribe(\n      'TOAST',\n      setToastList,\n    )\n    return () => {\n      unsubscribe()\n    }\n  }, [])\n\n  return toastList\n}\n","import styled from 'styled-components'\n\nimport { ToastPosition } from '@/types'\n\ntype ToasterWrapperType = {\n  position: ToastPosition,\n  margin: number,\n}\n\nexport const ToasterWrapper =\n  styled.div <\n  ToasterWrapperType >\n  `\n  position: absolute;\n  overflow: hidden;\n  ${(props) => {\n    if (props.position === 'bottom-right') {\n      return `bottom:  ${props.margin}px;\n  right: ${props.margin}px;`\n    }\n    if (props.position === 'bottom-left') {\n      return `bottom:  ${props.margin}px;\n  left: ${props.margin}px;`\n    }\n    if (props.position === 'top-right') {\n      return `top:  ${props.margin}px;\n  right: ${props.margin}px;`\n    }\n    if (props.position === 'top-left') {\n      return `top:  ${props.margin}px;\n  left: ${props.margin}px;`\n    }\n  }}\n\n`\n","import React, { memo } from 'react'\n\nimport { Portal } from '../Portal'\nimport { Toast } from '../Toast'\n\nimport { useToast } from '@/hooks/useToast'\nimport { ToastWrapType } from '@/types'\n\nimport { ToasterWrapper } from './components'\n\nexport const Toaster = memo(function Toaster({\n  position = 'bottom-left',\n  margin = 16,\n  delay,\n}: ToastWrapType) {\n  const toastList = useToast()\n\n  return (\n    <Portal>\n      <ToasterWrapper position={position} margin={margin}>\n        {toastList.map((toast, index) => (\n          <Toast\n            {...toast}\n            margin={margin}\n            key={toast.id}\n            delay={delay}\n            id={index}\n          />\n        ))}\n      </ToasterWrapper>\n    </Portal>\n  )\n})\n"],"names":["ToastStore","toastList","toastQueue","timer","delay","subscriptions","el","length","push","_objectSpread","id","Date","now","publish","clearInterval","setInterval","removeToast","splice","shift","console","log","eventType","callback","Set","callbacks","add","size","warn","forEach","instance","toastStore","Close","styled","button","CloseIcon","fontSize","WarningIcon","InfoIcon","ErrorIcon","SuccessIcon","Icon","type","font","black","white","error","success","warning","info","boxShadow","startX","keyframes","startY","theme","animations","colors","ToastWrapper","div","props","margin","animation","Message","h3","Description","h4","Toast","message","description","deleteToast","Portal","memo","children","document","createElement","useEffect","body","appendChild","removeChild","ReactDOM","createPortal","useToast","useState","setToastList","unsubscribe","subscribe","ToasterWrapper","position","Toaster","map","toast","index"],"mappings":"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"}